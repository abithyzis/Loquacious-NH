After spending the last few months learning NHibernate, starting with hbm xml, to Fluent NHibernate, then Loquacious sexy mapping was released.  Herewith is a solution, with tests and ioc, which is over commented during my learning.

Domain; details the problem domain ... a small Customer, Order, Product etc domain but with all the fun relationships!!

Domain.NHByCode; is the mapping of the domain using the ModelMapper, with Explicit Mappings.  Sorry Fabio, I have been very conformist here with single mapping classes ;)

Domain.NHByConvention; is the mapping of the same domain using the ConventionModelMapper.

These are the key blog posts by Fabio;
01 04 2011 - NHibernate 3.2 mapping by code;
http://fabiomaulo.blogspot.com/2011/04/nhibernate-32-mapping-by-code.html

08 04 2011 - NHibernate 3.2: (part 2) mapping by code;
http://fabiomaulo.blogspot.com/2011/04/nhibernate-32-part-2-mapping-by-code.html

13 04 2011 - NHibernate 3.2: mapping by code conventions;
http://fabiomaulo.blogspot.com/2011/04/nhibernate-32-mapping-by-code_13.html

16 07 2011 - NHibernate: playing with mapping by code;
http://fabiomaulo.blogspot.com/2011/07/nhibernate-playing-with-mapping-by-code.html

17 07 2011 - NHibernate: playing with mapping by code (2);
http://fabiomaulo.blogspot.com/2011/07/nhibernate-playing-with-mapping-by-code_17.html

Other resources;
http://www.nhforge.org/doc/nh/en/index.html
http://nhforge.org/wikis/
A nice NH set vs bag answer http://stackoverflow.com/questions/1916350/set-bag-and-list-set-in-nhibernate/1921727#1921727
